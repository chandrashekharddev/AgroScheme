# Install pip-tools
pip install pip-tools

# Create a requirements.in file with your top-level dependencies (without versions)
echo "fastapi" > requirements.in
echo "uvicorn[standard]" >> requirements.in
echo "sqlalchemy" >> requirements.in
echo "psycopg2-binary" >> requirements.in
echo "pydantic" >> requirements.in
echo "pydantic-settings" >> requirements.in
echo "python-jose[cryptography]" >> requirements.in
echo "passlib[bcrypt]" >> requirements.in
echo "python-multipart" >> requirements.in
echo "easyocr" >> requirements.in  # Use EasyOCR instead of Paddle
echo "opencv-python-headless" >> requirements.in
echo "pdf2image" >> requirements.in
echo "pillow" >> requirements.in
echo "numpy" >> requirements.in
echo "torch" >> requirements.in
echo "torchvision" >> requirements.in
echo "supabase" >> requirements.in
echo "python-dotenv" >> requirements.in
echo "httpx" >> requirements.in

# Compile to a full requirements.txt with all dependencies pinned
pip-compile requirements.in

# Use the generated requirements.txt for deployment
